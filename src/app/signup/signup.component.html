<form autocomplete="off" novalidate [formGroup]="form">
  <fieldset>
    <legend>Sign Up</legend>

    <div class="form-field">
      <label>Email:</label>
      <input name="email" formControlName="email" />
      <span
        class="form-help"
        *ngIf="!email.valid && (email.touched || email.dirty)"
        >provide a valid email!</span
      >
    </div>
    <div class="form-field">
      <label>Password:</label>
      <input name="password" formControlName="password" type="password" />
      <span
        class="form-help"
        *ngIf="!password.valid && (password.touched || password.dirty)"
        >provide a valid password (6 characters long!)</span
      >
    </div>
    <div class="form-field">
      <label>Confirm:</label>
      <input name="confirm" formControlName="confirm" type="password" />
      <span
        class="form-help"
        *ngIf="!passwordsMatch() && (confirm.touched || confirm.dirty)"
        >The confirm password must match the password</span
      >
    </div>
  </fieldset>

  <div class="form-buttons">
    <span (click)="closeErrorMessage()" class="form-help" *ngIf="error">{{
      error
    }}</span>
    <button
      [disabled]="!form.valid || !passwordsMatch()"
      class="button button-primary"
      (click)="signUp()"
    >
      Sign Up
    </button>
  </div>
</form>
